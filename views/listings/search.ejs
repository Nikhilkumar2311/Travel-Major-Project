<% layout("/layouts/boilerplate.ejs") %>

<div id="filters">
    <div class="filter active" data-filter="">
        <div><i class="fa-solid fa-list"></i></div>
        <p>All</p>
    </div>    
    <div class="filter" data-filter="Trending">
        <div><i class="fa-solid fa-fire"></i></div>
        <p>Trending</p>
    </div>
    <div class="filter" data-filter="Rooms">
        <div><i class="fa-solid fa-bed"></i></div>
        <p>Rooms</p>
    </div>
    <div class="filter" data-filter="Lakes">
        <div><i class="fa-solid fa-water"></i></div>
        <p>Lakes</p>
    </div>
    <div class="filter" data-filter="Mountains">
        <div><i class="fa-solid fa-mountain"></i></div>
        <p>Mountains</p>
    </div>
    <div class="filter" data-filter="Beaches">
        <div><i class="fa-solid fa-umbrella-beach"></i></div>
        <p>Beaches</p>
    </div>
    <div class="filter" data-filter="Pools">
        <div><i class="fa-solid fa-person-swimming"></i></div>
        <p>Pools</p>
    </div>
    <div class="filter" data-filter="Forests">
        <div><i class="fa-solid fa-tree"></i></div>
        <p>Forests</p>
    </div>
    <div class="filter" data-filter="Farms">
        <div><i class="fa-solid fa-wheat-awn"></i></div>
        <p>Farms</p>
    </div>
    <div class="filter" data-filter="Arctic">
        <div><i class="fa-regular fa-snowflake"></i></div>
        <p>Arctic</p>
    </div>
    
    <div class="filter" data-filter="Boats">
        <div><i class="fa-solid fa-ship"></i></div>
        <p>Boats</p>
    </div>

    <div class="tax-toggle">
        <div class="form-check-reverse form-switch">
            <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
            <label class="form-check-label" for="flexSwitchCheckDefault">Display total after taxes</label>
        </div>
    </div>
</div>

<div class="container mt-5">
    <h1>Search Results for "<%= query %>"</h1>

    <% if (listings.length > 0) { %>
        <div class="row">
            <% listings.forEach(listing => { %>
                <div class="col-md-4">
                    <div class="card mb-4">
                        <img class="card-img-top" src="<%= listing.image.url %>" alt="<%= listing.title %>">
                        <div class="card-body">
                            <h5 class="card-title"><%= listing.title %></h5>
                            <p class="card-text"><%= listing.location %>, <%= listing.country %></p>
                            <p class="card-text">&#8377;<%= listing.price %></p>
                            <a href="/listings/<%= listing._id %>" class="btn btn-primary">View Details</a>
                        </div>
                    </div>
                </div>
            <% }); %>
        </div>
    <% } else { %>
        <p>No results found for "<%= query %>"</p>
    <% } %>
</div>


